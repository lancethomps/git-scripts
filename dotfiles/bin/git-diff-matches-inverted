#!/usr/bin/env bash
################################################################### SETUP ########################################################################
set -o errexit -o errtrace -o nounset
##################################################################################################################################################

tmp1="$(mktemp)"
tmp2="$(mktemp)"
git diff --color=always -G "$@" > "$tmp1"
shift
git diff --color=always "$@" > "$tmp2"

git diff --color=never --no-index -w "$tmp1" "$tmp2"

rm "$tmp1" "$tmp2"
