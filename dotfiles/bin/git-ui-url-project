#!/usr/bin/env bash
################################################################### SETUP ########################################################################
if ! _SCRIPT_DIR="$(get_script_dir "${BASH_SOURCE[0]}")"; then echo "Error while running: _SCRIPT_DIR=\"\$(get_script_dir \"${BASH_SOURCE[0]}\")\"" && exit 1; fi
# shellcheck disable=SC1090
if test -e "${_SCRIPT_DIR}/.git_command_defaults.sh"; then source "${_SCRIPT_DIR}/.git_command_defaults.sh"; else echo '"${_SCRIPT_DIR}/.git_command_defaults.sh" does not exist - resolved to: '"${_SCRIPT_DIR}/.git_command_defaults.sh" && exit 1; fi
##################################################################################################################################################

git_url="$(git remote -v | head -1 | awk '{ print $2 }')"
scm_domain="$(echo "$git_url" | pcregrep -o3 "$GIT_URL_REGEX")"
scm_project="$(echo "$git_url" | pcregrep -o6 "$GIT_URL_REGEX")"
git_repo_name="$(echo "$git_url" | pcregrep -o7 "$GIT_URL_REGEX")"

echo "$scm_project"
